(()=>{var a=$("#btnPrev"),n=$("#btnNext"),t=$("#btnRagu"),i=Swal.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),e=setInterval((function(){var a=document.getElementById("timer"),n=(new Date).getTime(),t=end-n,i=Math.floor(t%864e5/36e5),l=Math.floor(t%36e5/6e4),o=Math.floor(t%6e4/1e3);0==i&&l<5&&(a.style.color="red"),i<10&&(i="0"+i),l<10&&(l="0"+l),o<10&&(o="0"+o),a.innerHTML=i+":"+l+":"+o,t<0&&(clearInterval(e),a.innerHTML="WAKTU HABIS!",a.style.color="red")}),1e3);function l(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;$.get({url:"/ujian/soal",data:{ujian_siswa_id:ujianSiswaid,page:i},success:function(i){var e=i.data[0],l=e.soal;$("#ujianHasilId").val(e.id),$("#noSoal").html(i.current_page),t.data("id",e.id),1!=e.ragu?t.prop("checked",!1):t.prop("checked",!0),$("#div-soal").html(l.pertanyaan);var o=e.jawaban;if(divJawaban=$("#div-jawaban"),divJawaban.html(""),"pilihan_ganda"==l.jenis){var r=l.pilihan,s="";r.forEach((function(a,n){s+='\n                    <div class="custom-control custom-radio">\n                        <input class="custom-control-input" type="radio" id="pilihan'.concat(n,'" name="jawaban" value="').concat(a.id,'" ').concat(o==a.id?"checked":"",'>\n                        <label for="pilihan').concat(n,'" class="custom-control-label">').concat(a.jawaban,"</label>\n                    </div>")})),divJawaban.html(s)}else divJawaban.html('\n                        <div class="form-grop">\n                            <label for="form-jawaban">Jawaban</label>\n                            <input class="form-control" name="jawaban" id="form-jawaban" value="'.concat(null!=o?o:"",'" placeholder="Masukkan jawaban...">\n                        </div>'));a.removeAttr("disabled"),a.data("id",i.current_page-1),null==i.prev_page_url&&a.attr("disabled","disabled"),n.removeAttr("disabled"),n.data("id",i.current_page+1),null==i.next_page_url&&n.attr("disabled","disabled")},error:function(a){console.log(a)}})}l(),a.on("click",(function(){l($(this).data().id)})),n.on("click",(function(){l($(this).data().id)})),t.on("change",(function(){var a=$(this).data(),n=$("#btnRagu:checked").length>0;$.post({url:"/ujian/ragu-ragu",data:{id:a.id,ragu:n?1:0},success:function(t){console.log(t);var i=$("#btnPilihan"+a.id);n?i.removeClass("btn-outline-primary").addClass("btn-warning"):(i.removeClass("btn-warning"),null!=t.jawaban?i.addClass("btn-primary"):i.addClass("btn-outline-primary"))}})})),$.get({url:"/ujian/daftar-soal",data:{ujian_siswa_id:ujianSiswaid},success:function(a){var n="";a.forEach((function(a,t){var i=1==a.ragu?"btn-warning":null!=a.jawaban?"btn-primary":"btn-outline-primary";n+='\n                <div class="col-md-3 col-sm-2 mb-3">\n                    <button class="btn btn-sm btn-block '.concat(i,' btn-pilihan" id="btnPilihan').concat(t+1,'" data-id="').concat(t+1,'">').concat(t+1,"</button>\n                </div>")})),$("#pilihan").html(n)}}),$(document).on("click",".btn-pilihan",(function(){l($(this).data().id)})),$("#formJawab").on("submit",(function(a){a.preventDefault();var n=new FormData(this);$.post({url:"/ujian/simpan-jawaban",data:n,contentType:!1,processData:!1,success:function(a){i.fire({icon:"success",title:"Jawaban berhasil disimpan"}),$("#btnPilihan"+n.get("id")).hasClass("btn-warning")||$("#btnPilihan"+n.get("id")).removeClass("btn-outline-primary").addClass("btn-primary")}})}))})();